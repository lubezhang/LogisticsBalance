<script type="text/javascript" src="./script/jquery/jquery.easyui.min.js"></script>
<script type="text/javascript">
    function loadBalanceData(){
        $('#dg').datagrid({
            url:'/replenishController/queryBalanceList.do',
            columns:[[
                {field:'balanceId',title:'快递单编号1',checkbox:true,width:100},
                {field:'balanceCode',title:'快递单号',width:60,align:"center"},
                {field:'customerId',title:'客户名称',width:160,align:"center"},
                {field:'money',title:'金额',width:40,align:"center"},
                {field:'gatherState',title:'收款状态',width:20,align:"center"},
                {field:'payoffState',title:'结算状态',width:20,align:"center"}
            ]],
            queryParams: {
                balanceCode: $("#balanceCode1").val(),
                payoffState: $('#payoffState1').combobox('getValue'),
                gatherState: $('#gatherState1').combobox('getValue')
            },
            onLoadSuccess:function(){
                alert(3);
            }
        });
    }

    function showBalance(){
        $.post(
            "/replenishController/queryBalanceDetail.do",
            "balanceCode="+$("#balanceCode1").val(),
            function(json){
                if(json){
                    var tmp = "";
//                    for(var key in json){
//                        $("#"+key).val(json[key]);
//                    }
                    $("#balancePic").show().attr("src",json.picPath);
                } else {
                    alert("error");
                }
            },
            "json"
        );
    }

//    loadBalanceData();
</script>

<table id="dg" class="easyui-datagrid" title="快递单查询" width="100%" height="30px"
       rownumbers="true"  data-options="toolbar:'#tb',border:true,fit:true,fitColumns:true">
</table>
<div id="tb" style="padding:5px;height:auto">
    <div>
        快递单号：<input id="balanceCode1" class="easyui-validatebox" style="width:180px" value="" />
        收款方式：<select id="gatherState1" class="easyui-combobox">
        <option value="" selected>请选择</option>
        <option value="1">现结</option>
        <option value="2">月结</option>
        <option value="3">对付</option>
    </select>
        结算状态：<select id="payoffState1" class="easyui-combobox">
        <option value="" selected>请选择</option>
        <option value="1">已结</option>
        <option value="2">未结</option>
    </select>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-search" onclick="showBalance()">查询</a>
    </div>
    <img id="balancePic" width="750" width="550" src="" border="0" style="display: none"/>
</div>
